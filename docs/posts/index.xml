
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
 <channel>
   <title>Posts on Kaimind&#39;s blog</title>
   <link>https://blog.kaie.xyz/posts/</link>
   <description>Recent content in Posts on Kaimind&#39;s blog</description>
   <generator>Hugo -- gohugo.io</generator>
   <language>zh-CN</language>
   <copyright>Copyright &amp;copy; 2021 - Kaimind</copyright>
   <lastBuildDate>Sat, 05 Jun 2021 10:15:02 +0800</lastBuildDate>
   
       <atom:link href="https://blog.kaie.xyz/posts/index.xml" rel="self" type="application/rss+xml" />
   
   
     <item>
       <title>可信任的时间戳</title>
       <link>https://blog.kaie.xyz/posts/trusted-timestamp/</link>
       <pubDate>Sat, 05 Jun 2021 10:15:02 +0800</pubDate>
       
       <guid>https://blog.kaie.xyz/posts/trusted-timestamp/</guid>
       <description>&lt;p&gt;时间的证明很重要。比如，电影里面，绑匪让被绑架的肉票拿着当天的报纸录像。这就是为了证明，肉票在报纸上的日期那天还活着。因为绑匪有再大的本事，也没办法拿到几天之后的报纸。再比如，维基解密的阿桑奇，会在录像的时候读出比特币区块链的哈希表，这就证明了录像时间是在产生这个区块链的时间之后。&lt;/p&gt;&lt;p&gt;前面两个例子都是在说，证明事件发生在某个时间之后。那要证明事件发生在某个时间之前呢？考古上用碳14来鉴定，某个文物是几千年前的产物，而不是昨天伪造的东西。发展到了区块链时代，我们可以把一个事情写入到区块链中，来证明它发生的时间点，没有人能篡改。这也是区块链的重要作用之一，解决信任问题。下面，我们用可信任的时间戳来证明事件发生的时间。&lt;/p&gt;&lt;p&gt;我们把某件事情的文本发生到时间服务器，服务器返回给我们一个数字签名。验证这个数字签名的时间戳，就能证明该事件发生的事件点了。&lt;/p&gt;&lt;pre&gt;&lt;code&gt;openssl ts -query -data inputfile.txt -cert -sha256 -no_nonce \| curl -k -H &amp;quot;Content-Type: application/timestamp-query&amp;quot; \-H &amp;quot;Host:timestamp.globalsign.com&amp;quot; --data-binary \@- &amp;quot;http://timestamp.globalsign.com&amp;quot; \&amp;gt; inputfile.txt.tsr&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;上面的命令会生成一个inputfile.txt.tsr文件，就是我们需要的时间戳证明文件。其中inputfile.txt是我们的输入文件，也就是需要时间证明的事件。&lt;/p&gt;&lt;p&gt;下面来验证这个时间戳。&lt;/p&gt;&lt;pre&gt;&lt;code&gt;openssl ts -reply -in inputfile.txt.tsr -text&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;会得到类似下面的信息。&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Hash Algorithm: sha256Message data:    0000 - 00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00    0010 - 00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00Time stamp: Dec 24 03:55:24 2019 GMT&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;它证明了我们的事件inputfile.txt存在于（Time stamp: Dec 24 03:55:24 2019 GMT）这个时间点。其中Message data是我们输入文件inputfile.txt的哈希值。可以用下面的命令，同样可以计算出文件的哈希值。&lt;/p&gt;&lt;pre&gt;&lt;code&gt;gpg --print-md sha256 inputfile.txt&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这其中用到了数字签名的概念。数字签名又涉及到哈希算法，和非对称RSA加密算法。&lt;/p&gt;</description>
     </item>
   
     <item>
       <title>把图片直接插入到markdown文件中</title>
       <link>https://blog.kaie.xyz/posts/markdown-pic/</link>
       <pubDate>Fri, 04 Jun 2021 17:35:33 +0800</pubDate>
       
       <guid>https://blog.kaie.xyz/posts/markdown-pic/</guid>
       <description>&lt;p&gt;在markdown中插入图片很简单，只需要添加图片的外部链接或路径就可以了。但这会有问题，比如，外部链接的图片消失的时候，那么我们的markdown文件也就无法正常显示图片了。再比如，当我们要拷贝一个markdown文件的时候，肯定会容易忘记去拷贝相应路径下的图片，这也会导致图片无法显示。这都是因为图片独立于markdown文件，而带来的问题。&lt;/p&gt;&lt;p&gt;有没用办法把图片直接插入到markdown文件中？方法是有的。我们可以把图片编码成base64代码，再插入到markdown文件中。&lt;/p&gt;&lt;p&gt;在markdown文件中，需要插入图片的位置：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;![pic][pic3355]&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在markdown文件的末尾，插入图片的base64编码：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;[pic3355]:data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA9AAAADNCAYA&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;其中pic3355是我们插入图片的文件名。&lt;/p&gt;&lt;p&gt;其中“iVBORw0K&amp;hellip;”这段看不懂的代码，是插入图片的base64编码。简单来说，就是把图片的二进制文件，用文本ascii码字符来编码。&lt;/p&gt;&lt;p&gt;如何获取图片文件的base64编码呢？我们用下面的python代码来获得。&lt;/p&gt;&lt;pre&gt;&lt;code&gt;import base64with open(&#39;./pic3355.png&#39;,&#39;rb&#39;) as f:    bf = base64.b64encode(f.read())with open(&#39;./pic3355b.txt&#39;, &#39;w&#39;) as f:    f.write(str(bf))&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;其中pic3355.png是我们的图片文件及其路径。运行完这段python代码后，就可以到pic3355b.txt文件中拷贝出base64编码，插入到markdown文件了。&lt;/p&gt;</description>
     </item>
   
     <item>
       <title>用hugo在github上建立个人博客</title>
       <link>https://blog.kaie.xyz/posts/hugo-github-pages/</link>
       <pubDate>Mon, 29 Mar 2021 16:28:28 +0800</pubDate>
       
       <guid>https://blog.kaie.xyz/posts/hugo-github-pages/</guid>
       <description>&lt;p&gt;hugo是一个工具，可以轻松的把markdown文章转换成静态网站。我们先用markdown写文章，再用hugo把markdown转成html，再推送到github的pages，一个博客就轻松建成了。&lt;/p&gt;&lt;p&gt;hugo的安装和使用参考&lt;a href=&#34;https://gohugo.io/getting-started/quick-start/&#34;&gt;这里&lt;/a&gt;，可以查看hugo的文档。&lt;/p&gt;&lt;p&gt;hugo有很多主题可以选用，比如这个&lt;a href=&#34;https://themes.gohugo.io/hugo-kiera/&#34;&gt;kiera&lt;/a&gt;。主题的使用，可以参考exampleSite目录下的示例。&lt;/p&gt;&lt;h2 id=&#34;配置build目录&#34;&gt;配置build目录&lt;/h2&gt;&lt;p&gt;hugo默认把生成的html文件放到public目录下，我们可以在config.toml添加如下配置&lt;/p&gt;&lt;pre&gt;&lt;code&gt;publishDir = &amp;quot;docs&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;那么hugo会把html文件生成到docs目录。你会发现这很有用。因为github pages使用根目录或者docs目录下的html，如果hugo生成的html不在这里，那么我们需要去手动拷贝。现在我们把hugo生成目录设为docs目录，再到github pages里面把默认目录也设为docs目录，那么就省去了拷贝的动作。&lt;/p&gt;</description>
     </item>
   
 </channel>
</rss>
